!function(e){function n(){g=!1,f=!1,l.on("click",function(){o(e(this))}),r(),t()}function t(){e(document).bind("scroll",function(){g||r()}),f=!0}function a(){f=!1,e(document).unbind("scroll")}function o(e){return page=e.attr("page"),pagesCount=s.size(),g||u==page||page>=pagesCount||page<0?!1:void c(page)}function c(n){e(".png-page-picker").removeClass("selected"),e('.png-page-picker[page="'+n+'"]').addClass("selected"),g=!0;var t=i();$page=e(".png-page-"+n);var a,o=Math.abs(u-n);a=t[n],e("html,body").animate({scrollTop:Math.abs(a)+"px"},200*o,function(){u=n,g=!1})}function r(){var n=i();u=p(n),e(".png-page-picker").removeClass("selected"),e('.png-page-picker[page="'+u+'"]').addClass("selected")}function i(){var n=[];return s.each(function(t){n[t]=e(this).offset().top}),n}function p(n){var t=e("body").scrollTop();if(0==t&&(t=e("html").scrollTop()),0==t)return 0;var a=-1,o=99999999;return e(n).each(function(e){var n=this,c=Math.abs(t-n);o>c&&(o=c,a=e)}),a}var s,l,u,g,f;e.fn.pongeeScroller=function(e){s=this,l=e.picker,n()},e.removePongeeScroller=function(){l.removeClass("selected"),a()}}(jQuery);
